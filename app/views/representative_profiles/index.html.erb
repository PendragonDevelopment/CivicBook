<p id="notice"><%= notice %></p>

<h1>Representatives</h1>

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Name</th>
      <th>Office</th>
      <th>District</th>
      <th>Term start</th>
      <th>Term end</th>
      <th>Bio</th>
      <th>Profession</th>
      <th>Party affiliation</th>
      <th>Official email</th>
      <% if current_user && current_user.admin? %>
        <th colspan="2"></th>
      <% end %>
    </tr>
  </thead>

  <tbody>
    <% @representative_profiles.each do |representative_profile| %>
      <tr>
        <td><%= link_to representative_profile.name, representative_profile %></td>
        <td><%= representative_profile.office %></td>
        <td><%= representative_profile.district %></td>
        <td><%= representative_profile.term_start.strftime('%m/%d/%Y') %></td>
        <td><%= representative_profile.term.strftime('%m/%d/%Y') %></td>
        <td><%= markdown(representative_profile.bio.truncate(40)) %></td>
        <td><%= representative_profile.profession %></td>
        <td><%= representative_profile.party_affiliation %></td>
        <td><%= mail_to representative_profile.official_email %></td>
        <% if current_user && current_user.admin? %>
          <td><%= link_to 'Edit', edit_representative_profile_path(representative_profile) %></td>
          <td><%= link_to 'Destroy', representative_profile, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Representative profile', new_representative_profile_path %>
